{
    "name": "{{ base_name }}-consumer",
    "parallelIngests": 1,
    "hosts": "kafka-1:9092",
    "groupId": "ingest-topic-group",
    "topics": "test_ingest",
    "reprocess": false,
    "pollIntervalMs": 1200000,
    "sourceDelete": false,
    "errorManager": {
        "errorLocation": "/ingest/error",
        "type": "folder"
    },
    "ingestThreads": 1,
    "source": {
        "sourceType": "fr.gael.gss.ingest.ingester.ConsumerOdataConf",
        "serviceRootUrl": "{{ serviceRootUrl }}",
        "auth": {
            "user": "{{ user }}",
            "password": "{{ password }}",
            "clientId": "{{ clientId }}",
            "tokenEndpoint": "{{ tokenEndpoint }}",
            "type": "{{ authenticationType }} "
        },
        "type": "{{ sourceType }}",
        "retriesOn429": 10,
        "retryWaitOn429Ms": 5000
    },
    "taskList": [
        {
            "type": "fr.gael.gss.ingest.ingester.IngestInDataStores",
            "pattern": ".*",
            "stopOnFailure": true,
            "tryLimit": 5,
            "active": true,
            "targetStores": "HFS1"
        },
        {
            "type": "fr.gael.gss.ingest.ingester.IngestInMetadataStores",
            "pattern": ".*",
            "stopOnFailure": true,
            "tryLimit": 5,
            "active": true,
            "targetStores": "solr"
        },
        {
            "type": "fr.gael.gss.ingest.ingester.ExtractMetadata",
            "pattern": ".*",
            "stopOnFailure": true,
            "tryLimit": 5,
            "active": true,
            "forceOnline": false
        },
        {
            "type": "fr.gael.gss.ingest.ingester.CreateQuicklook",
            "pattern": ".*",
            "stopOnFailure": false,
            "tryLimit": 5,
            "active": true,
            "targetStores": "HFS1"
        }
    ],
    "tmpPath": "/ingest/tmp"
}
